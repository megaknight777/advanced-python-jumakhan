# Задание 5.

# 1. Даны две дроби A/B и C/D (A, B, C, D — натуральные числа). 
# Напишите программу для вычитания второй дроби из первой. 
# Ответ должен быть несократимой дробью. 
# Используйте подпрограмму алгоритма Евклида для определения наибольшего общего делителя (НОД).

# 2. Напишите программу, 
# которая выводит все делители заданного числа в одной строке, 
# разделяя их пробелами.

import math

# ==== ИНСТРУМЕНТЫ ===

def euclid_gcd(n, m):
    """
    Алгоритм Евклида.
    Важно: работаем с положительными числами для поиска делителя.
    """
    n = abs(n)
    m = abs(m)
    while m != 0:
        n, m = m, n % m
    return n

# == ЗАДАЧА 1: ВЫЧИТАНИЕ ДРОБЕЙ ===
def solve_fraction_subtraction():
    print("\n=== ЧАСТЬ 1: Вычитание дробей (A/B) - (C/D) ===")
    try:
        print("Введите первую дробь A/B:")
        a = int(input("  A: "))
        b = int(input("  B: "))
        print("Введите вторую дробь C/D:")
        c = int(input("  C: "))
        d = int(input("  D: "))

        if b == 0 or d == 0:
            print("Ошибка: Знаменатель не может быть нулем!")
            return

        # 1. Формула вычитания через общий знаменатель
        # Числитель = A*D - C*B
        res_num = (a * d) - (c * b)
        # Знаменатель = B*D
        res_den = b * d

        # 2. Сокращение (Irreducible fraction)
        # Находим НОД (GCD). Используем abs(), так как числитель может быть отрицательным.
        common_divisor = euclid_gcd(res_num, res_den)

        # 3. Делим на НОД
        final_num = res_num // common_divisor
        final_den = res_den // common_divisor

        print(f"\nРезультат вычитания: {res_num}/{res_den}")
        print(f"Несократимая дробь: {final_num}/{final_den}")

    except ValueError:
        print("Ошибка: вводите только целые числа.")

# = ЧАСТЬ 2: ДЕЛИТЕЛИ ЧИСЛА ===
def solve_divisors():
    print("\n=== ЧАСТЬ 2: Поиск всех делителей ===")
    try:
        num = int(input("Введите натуральное число: "))
        
        if num <= 0:
            print("Пожалуйста, введите положительное число.")
            return

        print(f"Делители числа {num}: ", end="") 
        # end="" означает "не переходи на новую строку, оставайся здесь"

        # Логика: Проходим от 1 до самого числа
        for i in range(1, num + 1):
            if num % i == 0:
                # Если остаток от деления равен 0, значит это делитель
                print(i, end=" ")
        
        print() # Просто пустой принт, чтобы перевести строку в конце

    except ValueError:
        print("Ошибка: нужно ввести число.")

# === ГЛАВНАЯ ФУНКЦИЯ ===
def main():
    solve_fraction_subtraction()
    print("-" * 30)
    solve_divisors()

if __name__ == "__main__":
    main()
